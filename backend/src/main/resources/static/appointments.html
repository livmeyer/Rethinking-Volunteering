<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment | BeurocraticHelper</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="appointment.css">
    <style>
        /* Add this internal CSS or put it in appointment.css */
        .disabled-step {
            opacity: 0.5;
            pointer-events: none;
            filter: grayscale(100%);
        }
        
        .calendar-day.disabled {
            background-color: #f5f5f5;
            color: #ccc;
            cursor: not-allowed;
            border-color: #eee;
        }

        .time-slot.disabled {
            background-color: #f5f5f5;
            color: #ccc;
            cursor: not-allowed;
            text-decoration: line-through;
        }
    </style>
</head>
<body class="booking-page"> 

    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo" title="BeurocraticHelper Munich">
                <img class="logo-icon" src="logo.svg" alt="BeurocraticHelper Munich">
            </a>
            <div class="header-actions">
                <a href="index.html" class="back-nav-btn">
                    <span style="margin-right: 5px;">&#10005;</span> Cancel & Return
                </a>
            </div>
        </div>
    </header>

    <main class="main-container">
        
        <div class="booking-card">
            
            <div class="booking-header">
                <h1 class="page-title">Book Your Appointment</h1>
                <div id="selectedCategoryDisplay" class="category-badge">Loading...</div>
            </div>

            <div id="bookingForm" class="booking-flow">
                
                <div class="booking-step">
                    <div class="step-header">
                        <span class="step-number">1</span>
                        <h3 class="step-title">Choose a Location</h3>
                    </div>
                    <div id="locationList" class="options-grid">
                        <div class="location-option" onclick="selectLocation(this, 'CENTRAL_LIBRARY', 'Central Library')">
                            <div class="location-name">üìö Central Library</div>
                            <div class="location-address">Rosenheimer Str. 5, 81667 M√ºnchen</div>
                        </div>
                        <div class="location-option" onclick="selectLocation(this, 'MOOSACH', 'Moosach Library')">
                            <div class="location-name">üìö Moosach Library</div>
                            <div class="location-address">Pelkovenstr. 145, 80992 M√ºnchen</div>
                        </div>
                        <div class="location-option" onclick="selectLocation(this, 'SENDLING', 'Sendling Senior Center')">
                            <div class="location-name">üëµ Sendling Senior Center</div>
                            <div class="location-address">Gotzinger Str. 45, 81369 M√ºnchen</div>
                        </div>
                        <div class="location-option" onclick="selectLocation(this, 'SCHWABING', 'Schwabing Community Center')">
                            <div class="location-name">üèõÔ∏è Schwabing Community Center</div>
                            <div class="location-address">Belgradstr. 169, 80804 M√ºnchen</div>
                        </div>
                    </div>
                </div>

                <div class="booking-step disabled-step" id="dateStep">
                    <div class="step-header">
                        <span class="step-number">2</span>
                        <h3 class="step-title">Pick a Date</h3>
                    </div>
                    <div class="calendar-wrapper">
                        <div class="calendar-header">
                            <button class="nav-btn" onclick="previousMonth()">&larr;</button>
                            <span class="current-month" id="currentMonth"></span>
                            <button class="nav-btn" onclick="nextMonth()">&rarr;</button>
                        </div>
                        <div class="calendar" id="calendar"></div>
                    </div>
                </div>

                <div class="booking-step disabled-step" id="timeStep">
                    <div class="step-header">
                        <span class="step-number">3</span>
                        <h3 class="step-title">Choose a Time</h3>
                    </div>
                    <div class="time-slots" id="timeSlots">
                        </div>
                </div>

                <div class="booking-footer">
                    <button class="confirm-btn" id="confirmBtn" onclick="confirmBooking()" disabled>
                        Confirm Appointment
                    </button>
                    <p class="disclaimer">By clicking confirm, you agree to the data processing terms of the City of Munich.</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>¬© 2026 City of Munich</p>
    </footer>

    <script src="booking-script.js"></script>
</body>
</html>
